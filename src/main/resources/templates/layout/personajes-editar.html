<!DOCTYPE html>
<html lang="es" 
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/master}">

<head>
    <title>Editar Personaje</title>
</head>

<body>
    <div layout:fragment="content">
        <!-- Breadcrumb -->
        <nav aria-label="breadcrumb" class="mb-4">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a th:href="@{/}">Inicio</a></li>
                <li class="breadcrumb-item"><a th:href="@{/personajes}">Personajes</a></li>
                <li class="breadcrumb-item active">Editar</li>
            </ol>
        </nav>

        <!-- Header -->
        <div class="mb-4">
            <h1 class="display-6 mb-2">
                <i class="bi bi-pencil-square text-warning"></i> Editar Personaje
            </h1>
            <p class="text-muted">
                Modificando: <strong th:text="${personaje.nombre}">Nombre</strong>
            </p>
        </div>

        <!-- Formulario -->
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow-sm">
                    <div class="card-body p-4">
                        <form th:action="@{/personajes/guardar}" th:object="${personaje}" method="post">
                            <!-- ID oculto -->
                            <input type="hidden" th:field="*{id}">

                            <!-- ID visible -->
                            <div class="mb-4">
                                <label class="form-label fw-bold">
                                    <i class="bi bi-hash"></i> ID
                                </label>
                                <input type="text" 
                                       class="form-control form-control-lg" 
                                       th:value="${personaje.id}"
                                       disabled>
                                <div class="form-text">
                                    Identificador único del personaje (no editable)
                                </div>
                            </div>

                            <!-- Nombre -->
                            <div class="mb-4">
                                <label for="nombre" class="form-label fw-bold">
                                    <i class="bi bi-person"></i> Nombre
                                    <span class="text-danger">*</span>
                                </label>
                                <input type="text" 
                                       class="form-control form-control-lg" 
                                       id="nombre" 
                                       th:field="*{nombre}"
                                       placeholder="Ingresa el nombre del personaje"
                                       required
                                       maxlength="100">
                            </div>

                            <!-- Biografía -->
                            <div class="mb-4">
                                <label for="biografia" class="form-label fw-bold">
                                    <i class="bi bi-book"></i> Biografía
                                    <span class="text-danger">*</span>
                                </label>
                                <textarea 
                                       class="form-control form-control-lg" 
                                       id="biografia" 
                                       th:field="*{biografia}"
                                       placeholder="Ingresa la biografía del personaje"
                                       required
                                       rows="4"
                                       maxlength="500"></textarea>
                            </div>

                            <!-- Botones -->
                            <div class="d-flex gap-2 justify-content-end mt-5">
                                <a th:href="@{/personajes}" class="btn btn-lg btn-outline-secondary">
                                    <i class="bi bi-x-circle"></i> Cancelar
                                </a>
                                <button type="submit" class="btn btn-lg btn-warning">
                                    <i class="bi bi-save"></i> Actualizar Personaje
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Opciones adicionales -->
                <div class="card shadow-sm mt-4 border-danger">
                    <div class="card-body">
                        <h5 class="card-title text-danger">
                            <i class="bi bi-exclamation-triangle"></i> Zona de Peligro
                        </h5>
                        <p class="card-text text-muted">
                            Esta acción eliminará permanentemente el personaje y no se puede deshacer.
                        </p>
                        <a th:href="@{/personajes/eliminar/{id}(id=${personaje.id})}" 
                           class="btn btn-danger"
                           onclick="return confirm('¿Estás seguro de eliminar este personaje? Esta acción no se puede deshacer.')">
                            <i class="bi bi-trash"></i> Eliminar Personaje
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
